<div class="container-admin">
    <div class="right-side-navbar">
      <div class="header">
        <h3 class="flex-logo"><img src="assets/logo.jpg" alt="" class="logo">SwiftAid</h3>
      </div>
      <div class="navlinks">
        <ul>
          <li (click)="navigateToDashboard()"><i class='bx bxs-dashboard'></i> Dashboard</li>
          <li (click)="navigateToMap()"><i class='bx bxs-map'></i> Map</li>
          <li class="active" (click)="navigateToHistoryCall()"><i class='bx bx-history'></i> History</li>
          <li (click)="navigateToUserList()"><i class='bx bxs-user-detail'></i> Resident</li>
        </ul>
      </div>
    </div>
  
    <div class="left-side-container">
      <app-admin-navbar></app-admin-navbar>
  
      <div class="left-side-container_content">
        <h3>History Request</h3>
        <p>Recent requests</p>
  
        <div class="resident-container">
          <div class="resident-header">
            <div class="btn-container"></div>
            <div class="add-user-container">
              <div class="search">
                <i class='bx bx-search'></i>
                <input type="text" placeholder="Search" (input)="searchRequest($event)">
              </div>
            </div>
          </div>
  
          <div class="table">
            <table>
              <thead>
                <tr>
                  <td><input type="checkbox" name="" id=""></td>
                  <td>Full Name</td>
                  <td>Rescue Need</td>
                  <td>Email</td>
                  <td>Contact</td>
                  <td>Address</td>
                  <td>Event</td>
                  <td>Location</td>
                  <td>Time</td>
                  <td>Action</td>
                </tr>
              </thead>
              <tbody>
                <!-- Loop through the current page's requests -->
                <tr *ngFor="let request of currentPageRequests">
                  <td><input type="checkbox" name="" id=""></td>
                  <td>{{ request.name }}</td>
                  <td>{{ request.needs }}</td>
                  <td>{{ request.email }}</td>
                  <td>{{ request.contactNumber }}</td>
                  <td>{{ request.address }}</td>
          
                  <td>{{ request.currentLocation }}</td>
                  <td>{{ request.timestamp?.toDate().toLocaleString() }}</td>
                  <i class='bx bxs-trash' (click)="deleteRequest(request.id || '')"></i>
                </tr>
              </tbody>
            </table>
  
            <!-- Pagination Controls -->
            <div class="pagination-controls">
              <button (click)="changePage('previous')" [disabled]="currentPage <= 1">Previous</button>
              <span>Page {{ currentPage }} of {{ totalPages }}</span>
              <button (click)="changePage('next')" [disabled]="currentPage >= totalPages">Next</button>
            </div>
  
            <!-- Items per Page Selection -->
            <div>
              <label for="itemsPerPage">Items per Page:</label>
              <select id="itemsPerPage" (change)="changeItemsPerPage($event)">
                <option *ngFor="let option of itemsPerPageOptions" [value]="option">{{ option }}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  