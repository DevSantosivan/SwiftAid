<app-navbar></app-navbar>
<div class="home-container" style="background-color: #dddddd3d">
  <div class="container-hero">
    <div class="hero-content">
      <div class="head-tittle">
        <h3>
          <div class="span-header">
            <i class="bx bx-radio-circle-marked"></i>
            New Feature
          </div>
          Explore the Lates Dashboard <i class="bx bx-right-arrow-alt"></i>
        </h3>
      </div>
      <h2><span>SwiftAid:</span> Real-Time Emergency Management</h2>
      <p>
        A Real-Time Monitoring and Response System that empowers Administrators
        to oversee requests and Staff to act quickly in emergencies within San
        Jose.
      </p>
      <div class="button-getStarted">
        <button (click)="goToLogin()">Get Started</button>
      </div>
    </div>
  </div>

  <div class="relatives-container">
    <!-- Carousel Section -->
    <div class="carousel-wrapper">
      <div class="carousel-track">
        <div *ngFor="let item of carouselItems" class="carousel-slide">
          <img [src]="item" alt="carousel image" />
        </div>
      </div>
    </div>

    <!-- Feedback Section -->
    <br />
    <br />

    <div class="stats-container">
      <h2 class="section-title">Emergency Statistics</h2>
      <div class="stats-description">
        <p>
          Stay informed with a real-time summary of emergency request data,
          giving admins and staff visibility into ongoing operations.
        </p>
      </div>

      <div class="stats-grid">
        <!-- Total Requests -->
        <div class="stat-card">
          <div class="stat-icon">
            <i class="bx bx-git-pull-request" style="color: red"></i>
          </div>
          <h3>{{ totalRequests }}</h3>
          <p class="stat-label">Total Requests</p>
          <p class="stat-subtext">
            Number of emergency reports submitted by users.
          </p>
        </div>

        <!-- Resolved Requests -->
        <div class="stat-card">
          <div class="stat-icon">
            <span class="material-symbols-outlined" style="color: green"
              >check_circle</span
            >
          </div>
          <h3>{{ resolvedRequests }}</h3>
          <p class="stat-label">Resolved</p>
          <p class="stat-subtext">
            Successfully addressed and closed emergency cases.
          </p>
        </div>

        <!-- Pending Requests -->
        <div class="stat-card">
          <div class="stat-icon">
            <span class="material-symbols-outlined" style="color: orange"
              >pending</span
            >
          </div>
          <h3>{{ pendingRequests }}</h3>
          <p class="stat-label">Pending</p>
          <p class="stat-subtext">
            Emergency requests awaiting staff action or assignment.
          </p>
        </div>
      </div>
    </div>
    <br />
    <br />
    <!-- Features Section -->
    <div class="about-911-container">
      <div class="about-911-content">
        <!-- Left: Text + Cards -->
        <div class="about-911-left">
          <h2 class="section-title">Admin & Staff Responsibilities</h2>
          <p class="section-subtitle">
            Understanding the distinct roles of Administrators and Staff ensures
            a smooth, efficient emergency response system. SwiftAid empowers
            both teams to collaborate seamlessly to save lives.
          </p>

          <div class="about-911-cards">
            <div class="about-911-card">
              <div class="icon">üîß</div>
              <div class="content">
                <h4>Admin Role</h4>
                <p>
                  The Admin monitors all incoming emergency requests in
                  real-time. They manage staff assignments and track response
                  efficiency.
                </p>
              </div>
            </div>

            <div class="about-911-card">
              <div class="icon">üë®‚Äçüöí</div>
              <div class="content">
                <h4>Staff Role</h4>
                <p>
                  Staff are the responders. They accept assigned requests,
                  update their status, and provide real-time feedback on the
                  emergency.
                </p>
              </div>
            </div>

            <div class="about-911-card">
              <div class="icon">‚ö°</div>
              <div class="content">
                <h4>System Advantage</h4>
                <p>
                  SwiftAid gives admins a clear overview of emergencies while
                  ensuring staff can respond quickly and effectively.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Right: Image -->
        <!-- Right: Image Grid -->
        <div class="about-911-right">
          <div class="image-masonry">
            <img
              src="../../../assets/dashboard.png"
              alt="Admin Monitoring Dashboard"
            />
            <img
              src="../../../assets/emergency_map.png"
              alt="Staff Responding to Emergency"
            />
            <img
              src="../../../assets/emergency_map1.png"
              alt="Collaboration Between Admin & Staff"
            />
          </div>
        </div>
      </div>
    </div>

    <br />
    <br />
    <!-- Stats Section -->

    <!-- CTA Section -->
    <div class="alert-container">
      <h1>
        Effective Monitoring, Faster Response,<br />
        Safer Community.
      </h1>
      <p>
        With SwiftAid, Admins and Staff work hand-in-hand to ensure every
        emergency is tracked, responded to, and resolved quickly ‚Äî protecting
        lives and strengthening community safety.
      </p>
      <button>View Dashboard</button>
    </div>
    <div class="feedback-section">
      <h2 class="section-title feedback-title">What Residents Say's</h2>
      <p class="feedback-sub">
        Real stories from residents who used SwiftAid during emergencies.
      </p>

      <div class="feedback-carousel">
        <div class="feedback-track">
          <div class="feedback-card" *ngFor="let fb of feedbackList">
            <div class="feedback-header">
              <img [src]="fb.profilePic" alt="user" class="feedback-avatar" />
              <div>
                <h4>{{ maskName(fb.name) }}</h4>
                <small>
                  {{
                    fb.timestamp?.toDate
                      ? (fb.timestamp.toDate() | date : "MMM d, y, h:mm a")
                      : (fb.timestamp | date : "MMM d, y, h:mm a")
                  }}
                </small>
              </div>
            </div>

            <p class="feedback-message">‚Äú{{ fb.comment }}‚Äù</p>

            <div class="feedback-meta">
              <ng-container *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
                <span
                  class="material-symbols-outlined star-icon"
                  [class.filled]="i < fb.rating"
                  >star</span
                >
              </ng-container>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
